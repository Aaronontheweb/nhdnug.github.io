<ul class="{{ include.ul-class }}">
    {% assign events = site.posts %}
    {% if include.where-key %}
        {% assign events = events | where:include.where-key, include.where-value %}
    {% endif %}
    
    {% assign events = events | sort:date %}
    
    {% assign totEvents = 0 %}
    {% for event in events reversed %}
        {% assign includeEvent = true %}
        {% if include.exclude-url == event.url %}
            {% assign includeEvent = false %}
        {% endif %}
        {% if includeEvent == true %}
            <li>
                <div class="event-title">
                    <a href="{{ event.url | prepend: site.baseurl }}">{{ event.title }}</a>
                </div>
                <div class="event-meta">
                    {{ event.date |  date: "%A, %B %-d %Y" }}
                    {% if include.show-speaker %}
                     - {% include speaker-name.html speaker-title=event.speaker %}
                    {% endif %}
                </div>
            </li>
        {% endif %}    
        
    {% endfor %}
</ul>